<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pollux Cipher Tool</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 2rem; background-color: #f2f2f2; }
        .container { background: white; padding: 2rem; border-radius: 10px; max-width: 600px; margin: auto; }
        input[type=text], textarea {
            width: 100%; padding: 0.5rem; margin: 0.5rem 0; border-radius: 5px; border: 1px solid #ccc;
        }
        button {
            padding: 0.5rem 1rem; background-color: #4CAF50; color: white;
            border: none; border-radius: 5px; cursor: pointer;
        }
        .result { margin-top: 2rem; }
        pre { background-color: #eee; padding: 1rem; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Pollux Cipher Tool</h1>
        <form method="post">
            <label>Plaintext:</label>
            <textarea name="plaintext" rows="3" required>{{ result.plaintext if result else '' }}</textarea>

            <label>Key (10 chars, only . - x):</label>
            <input type="text" name="key" value="{{ result.key if result else '' }}" maxlength="10" required>

            <button type="submit">Encrypt & Decrypt</button>
        </form>

        {% if result %}
        <div class="result">
            {% if result.error %}
                <p style="color: red;">{{ result.error }}</p>
            {% else %}
            <h2>Result:</h2>
            <p><strong>Morse Text:</strong></p>
            <pre>{{ result.morse_text }}</pre>

            <p><strong>Key Map:</strong></p>
            <pre>{{ result.key_map }}</pre>

            <p><strong>Encrypted:</strong></p>
            <pre>{{ result.encrypted }}</pre>

            <p><strong>Decrypted:</strong></p>
            <pre>{{ result.decrypted }}</pre>
            {% endif %}
        </div>
        {% endif %}
    </div>
</body>
</html>
